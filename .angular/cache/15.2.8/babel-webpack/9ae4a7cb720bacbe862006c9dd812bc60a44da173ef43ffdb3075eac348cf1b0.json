{"ast":null,"code":"import { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared/api.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nfunction CartPageComponent_ng_container_0_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵelement(2, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_tr_20_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const item_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.deleteitem(item_r4));\n    });\n    i0.ɵɵtext(11, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r4 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r4.images[0], i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r4.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r4.price, \"\");\n  }\n}\nfunction CartPageComponent_ng_container_0_div_38_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"form\", 28)(2, \"div\", 29)(3, \"label\", 30);\n    i0.ɵɵtext(4, \"Email address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 29)(7, \"label\", 32);\n    i0.ɵɵtext(8, \"Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"input\", 33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 29)(11, \"label\", 32);\n    i0.ɵɵtext(12, \"Mobile Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(13, \"input\", 34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 29)(15, \"label\", 35);\n    i0.ɵɵtext(16, \"Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(17, \"textarea\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.onsubmit());\n    });\n    i0.ɵɵtext(19, \"Order\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\u00A0 \");\n    i0.ɵɵelementStart(21, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_div_38_Template_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.cancel());\n    });\n    i0.ɵɵtext(22, \"Cancel\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r3.myform);\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"disabled\", ctx_r3.myform.invalid);\n  }\n}\nfunction CartPageComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 11)(2, \"div\", 12)(3, \"div\", 13)(4, \"h3\");\n    i0.ɵɵtext(5, \"Cart Items\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"table\", 14)(7, \"thead\", 15)(8, \"tr\")(9, \"th\", 16);\n    i0.ɵɵtext(10, \"Image \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 16);\n    i0.ɵɵtext(12, \"Brand\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 16);\n    i0.ɵɵtext(14, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 16);\n    i0.ɵɵtext(16, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 16);\n    i0.ɵɵtext(18, \"Action\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, CartPageComponent_ng_container_0_tr_20_Template, 12, 4, \"tr\", 17);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(21, \"div\", 18)(22, \"h1\");\n    i0.ɵɵtext(23, \"Total Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"strong\", 19);\n    i0.ɵɵtext(26);\n    i0.ɵɵpipe(27, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(28, \"br\");\n    i0.ɵɵelementStart(29, \"strong\", 20);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"div\", 21)(33, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_33_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.addressform = true);\n    });\n    i0.ɵɵtext(34, \"Checkout\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\u00A0 \");\n    i0.ɵɵelementStart(36, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function CartPageComponent_ng_container_0_Template_button_click_36_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.Empty());\n    });\n    i0.ɵɵtext(37, \"Empty cart\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(38, CartPageComponent_ng_container_0_div_38_Template, 23, 2, \"div\", 24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.showproduct);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\"$\", ctx_r0.totalamount, \" + $\", i0.ɵɵpipeBind2(27, 5, ctx_r0.taxamount, \"1.0-0\"), \"(Tax)\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Total = $\", i0.ɵɵpipeBind2(31, 8, ctx_r0.finalamount, \"1.0-0\"), \"\");\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.addressform);\n  }\n}\nfunction CartPageComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 39)(2, \"div\", 40);\n    i0.ɵɵelement(3, \"img\", 41);\n    i0.ɵɵelementStart(4, \"h4\");\n    i0.ɵɵtext(5, \"Your Cart is Empty\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h6\");\n    i0.ɵɵtext(7, \"Please Add Item\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 42);\n    i0.ɵɵtext(9, \"Shop Now \");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n}\nexport let CartPageComponent = /*#__PURE__*/(() => {\n  class CartPageComponent {\n    constructor(api) {\n      this.api = api;\n      this.showproduct = [];\n      this.totalamount = 0;\n      this.taxamount = 0;\n      this.finalamount = 0;\n      this.addressform = false;\n      this.sentamount = 0;\n    }\n    ngOnInit() {\n      this.api.products().subscribe(res => {\n        this.showproduct = res;\n        this.totalamount = this.api.calculateprice();\n        console.log(\"total amt is\", this.totalamount);\n        // calculation with tax 15 percent\n        this.taxamount = this.totalamount / 100 * 15;\n        console.log(this.taxamount, \"is tax amount\");\n        this.finalamount = this.taxamount + this.totalamount;\n        //Sending final amount to order component \n        this.sentamount = this.finalamount;\n        this.api.sendfinalamount(this.sentamount);\n      });\n      //form\n      this.myform = new FormGroup({\n        email: new FormControl('', Validators.required),\n        name: new FormControl('', Validators.required),\n        mobile: new FormControl('', Validators.required),\n        address: new FormControl('', Validators.required)\n      });\n    }\n    deleteitem(item) {\n      this.api.removecartitem(item);\n    }\n    Empty() {\n      this.api.removeallitems();\n    }\n    cancel() {\n      this.addressform = false;\n      this.myform.reset();\n      localStorage.removeItem('ecomdata');\n    }\n    onsubmit() {\n      this.myform.value;\n      console.log(this.myform.value);\n      localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n      //this.myform.reset();\n    }\n\n    onlinepay() {\n      localStorage.setItem('ecomdata', JSON.stringify(this.myform.value.name));\n    }\n  }\n  CartPageComponent.ɵfac = function CartPageComponent_Factory(t) {\n    return new (t || CartPageComponent)(i0.ɵɵdirectiveInject(i1.ApiService));\n  };\n  CartPageComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CartPageComponent,\n    selectors: [[\"app-cart-page\"]],\n    decls: 16,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"id\", \"exampleModal\", \"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-labelledby\", \"exampleModalLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\", \"mt-8\"], [\"role\", \"document\", 1, \"modal-dialog\", 2, \"margin-top\", \"240px\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"exampleModalLabel\", 1, \"modal-title\"], [\"data-bs-dismiss\", \"modal\", \"aria-bs-label\", \"btn-Close\", 1, \"btn-close\"], [1, \"modal-body\"], [1, \"text-center\", \"mt-3\"], [\"routerLink\", \"/cardpay\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"], [\"routerLink\", \"/order-page\", \"data-bs-dismiss\", \"modal\", \"type\", \"button\", 1, \"btn\", \"btn-dark\"], [1, \"container-fluid\"], [1, \"row\"], [1, \"col-sm-9\"], [1, \"table\", \"table-borderless\", \"mt-3\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-sm-3\"], [2, \"font-size\", \"20px\", \"color\", \"green\"], [2, \"font-size\", \"25px\", \"color\", \"blue\", \"border\", \"2px solid black\"], [1, \"btn-group\", \"mt-3\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"class\", \"mt-3\", 4, \"ngIf\"], [2, \"width\", \"120px\", 3, \"src\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"mt-3\"], [3, \"formGroup\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\"], [\"type\", \"email\", \"formControlName\", \"email\", \"id\", \"exampleInputEmail1\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Enter email\", 1, \"form-control\"], [\"for\", \"exampleInputPassword1\"], [\"type\", \"text\", \"formControlName\", \"name\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Name\", 1, \"form-control\"], [\"type\", \"number\", \"formControlName\", \"mobile\", \"id\", \"exampleInputPassword1\", \"placeholder\", \"Mobile Number\", 1, \"form-control\"], [\"for\", \"exampleFormControlTextarea1\"], [\"id\", \"exampleFormControlTextarea1\", \"formControlName\", \"address\", \"placeholder\", \"Address\", \"rows\", \"3\", 1, \"form-control\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#exampleModal\", \"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-2\", 3, \"disabled\", \"click\"], [\"type\", \"submit\", 1, \"btn\", \"btn-dark\", \"mt-2\", 3, \"click\"], [1, \"card\"], [1, \"center\"], [\"src\", \"https://media.istockphoto.com/id/1266144552/vector/emoticon-with-sorry-sign.jpg?s=612x612&w=0&k=20&c=SxPesZy6zIYB2lbY3l8cQgpXaQdeBN_GcHrsOlsc4J8=\", 2, \"width\", \"250px\"], [\"routerLink\", \"/\", 1, \"btn\", \"btn-dark\"]],\n    template: function CartPageComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, CartPageComponent_ng_container_0_Template, 39, 11, \"ng-container\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"strong\", 5);\n        i0.ɵɵtext(6, \"Mode of Payment\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"button\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function CartPageComponent_Template_button_click_10_listener() {\n          return ctx.onlinepay();\n        });\n        i0.ɵɵtext(11, \"ONLINE PAY\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \"\\u00A0 \");\n        i0.ɵɵelementStart(13, \"button\", 10);\n        i0.ɵɵtext(14, \"CASH\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵtemplate(15, CartPageComponent_ng_container_15_Template, 10, 0, \"ng-container\", 0);\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length != 0);\n        i0.ɵɵadvance(15);\n        i0.ɵɵproperty(\"ngIf\", ctx.showproduct.length == 0);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.FormGroupDirective, i4.FormControlName, i2.DecimalPipe],\n    styles: [\".card[_ngcontent-%COMP%]{top:53%;left:50%;transform:translate(-50%,-50%);text-align:center;position:absolute;padding:100px}\"]\n  });\n  return CartPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}